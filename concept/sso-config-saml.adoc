// Copyright (c) 2020 IBM Corporation and others.
// Licensed under Creative Commons Attribution-NoDerivatives
// 4.0 International (CC BY-ND 4.0)
//   https://creativecommons.org/licenses/by-nd/4.0/
//
// Contributors:
//     IBM Corporation
//
:page-layout: general-reference
:page-type: general
:seo-title: SSO configuration with SAML Web Browser SSO and Web inbound propagation - OpenLiberty.io
:seo-description:
= SSO configuration with SAML Web Browser SSO and Web inbound propagation

SAML Web Browser Single-Sign-On (SSO) enables web applications to delegate user authentication to a centralized location for enterprises to manage and control identities.

Security Assertion Markup Language (SAML) is an OASIS open standard for representing and exchanging user identity, authentication, and attribute information between services. To achieve this standard, SAML provides cross-domain SSO and identity federation. Cross-domain SSO and identity federation are enabled by the following features:

Subject::
Typically, the subject is the user of an application but can be any entity that is capable of authentication such as an application
SAML Profile::
A specification that defines how to use SAML messages for business use cases such as SSO
SAML Assertion::
A message based in XML that contains security information about a subject
Identity Provider::
A server that issues SAML assertions about an authenticated subject
Service Provider::
Delegates authentication to an identity provider and relies on information about an authenticated subject in a SAML assertion that is issued by an identity provider
Trust Relationship::
An agreement between a SAML service provider and a SAML identity provider whereby the service provider trusts assertions that are issued by the identity provider
SAML Protocol Binding::
A description of how SAML message elements are mapped onto standard communication protocols, such as HTTP, for transmission between service providers and identity providers

With SAML Web Browser SSO configuration, the identity provider authenticates a user and returns a security token known as a SAML assertion. A SAML assertion is an XML formatted token that is used to transfer user identity and attribute information from the identity provider of a user to a trusted service provider as part of the completion of a single sign-on request. A SAML assertion provides a vendor neutral means of transferring information between federation business partners. By using SAML, an enterprise service provider can contact a separate enterprise identity provider to authenticate users who are trying to access secure content.

The server supports the SAML web browser single sign-on profile with HTTP Post bindings, and acts as a SAML service provider. A web user authenticates to a SAML identity provider, which produces a SAML assertion, and the SAML service provider uses the SAML assertion to establish a security context for the web user. The SAML web SSO flow includes three components:

* The end user
* The identity provider (IdP)
* The service provider (SP)

The user always authenticates to the IdP, and the SP relies on IdP assertion to identify the user as shown in the following example:

image::docs-fork/img/saml_actor.gif[Key Concepts in Web Single-Sign-On]

== SAML Web Browser SSO Scenarios

=== SP-initiated solicited Web SSO
The simplest form of cross-domain SSO is the SP-initiated SSO in which the user starts at the SP. In the following scenario, a user attempts to access a protected resource directly on an SP Web site without being logged on. The user does not have an account on the SP site, but does have a federated account managed by a third-party IdP. The SP sends an authentication request to the IdP. Both the request and the returned SAML assertion are sent through the userâ€™s browser where the user request is verified.

image::docs-fork/img/saml_sp_sso.gif[SP-Initiated solicited Web SSO (End user starting at SP)]

=== IdP-Initiated unsolicited Web SSO
With the IdP-intiated SSO, the user starts at the IdP. In the following scenario, a user is logged on to the IdP and attempts to access a resource on a remote SP server. The SAML assertion is transported to the SP where it is verified.

image::docs-fork/img/saml_idp_sso.gif[dP-Initiated unsolicited Web SSO (End user starting at IdP)]

=== OpenID Connect provider and SAML service provider
The protocols that are used to enable identity federation, such as OpenID Connect and SAML, provide the delegation of user authentication. In the following scenario, the process of identity federation establishes a shared identifier that is used between an application and a user. This action enables an application to delegate authentication of the user and receive back authentication details that confirm the user identity.

image::docs-fork/img/saml_oidc.gif[OpenID Connect provider and SAML service provider]
